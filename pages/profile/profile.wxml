<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- ä¸ªäººä¸­å¿ƒå¤´éƒ¨ -->
  <view class="gradient-header">
    <view class="profile-info">
      <view class="avatar-large">ğŸ‘¤</view>
      <view class="name">ä¸ªäººä¸­å¿ƒ</view>
      <view class="desc">ç®¡ç†æ‚¨çš„è´¦æˆ·ä¿¡æ¯</view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="card">
    <view class="card-body">
      <view class="menu-item" bindtap="onAddUser">
        <view class="menu-icon">ğŸ‘¥</view>
        <view class="menu-content">
          <view class="menu-title">ç”¨æˆ·ç®¡ç†</view>
          <view class="menu-desc">æ·»åŠ å’Œç®¡ç†ç”¨æˆ·</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="onDataManage">
        <view class="menu-icon">ğŸ’¾</view>
        <view class="menu-content">
          <view class="menu-title">æ•°æ®ç®¡ç†</view>
          <view class="menu-desc">å¤‡ä»½å’Œæ¢å¤æ•°æ®</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="onSettings">
        <view class="menu-icon">âš™ï¸</view>
        <view class="menu-content">
          <view class="menu-title">è®¾ç½®</view>
          <view class="menu-desc">åº”ç”¨è®¾ç½®å’Œåå¥½</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
    </view>
  </view>

  <!-- ç”¨æˆ·åˆ—è¡¨ -->
  <view class="card">
    <view class="card-header">
      ç”¨æˆ·åˆ—è¡¨ ({{users.length}})
      <button class="btn-small btn-primary" bindtap="onAddUser">+ æ·»åŠ </button>
    </view>
    
    <view wx:if="{{users.length === 0}}" class="empty-state">
      <view class="icon">ğŸ‘¥</view>
      <view class="text">æš‚æ— ç”¨æˆ·æ•°æ®</view>
    </view>
    
    <view wx:else class="card-body">
      <view 
        class="user-item" 
        wx:for="{{users}}" 
        wx:key="{{item.id}}"
        bindlongpress="onUserLongPress"
        data-user="{{item}}"
      >
        <view class="user-avatar">{{item.name.charAt(0)}}</view>
        <view class="user-info">
          <view class="user-name">{{item.name}}</view>
          <view class="user-contact">
            {{item.phone || item.email || 'æ— è”ç³»æ–¹å¼'}}
          </view>
          <view class="user-date">{{item.createTime}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="card">
    <view class="card-header">æ•°æ®ç»Ÿè®¡</view>
    <view class="card-body">
      <view class="stat-grid">
        <view class="stat-cell">
          <view class="stat-number">{{stats.userCount}}</view>
          <view class="stat-label">ç”¨æˆ·æ•°</view>
        </view>
        <view class="stat-cell">
          <view class="stat-number">{{stats.transactionCount}}</view>
          <view class="stat-label">äº¤æ˜“è®°å½•</view>
        </view>
        <view class="stat-cell">
          <view class="stat-number">{{stats.positionCount}}</view>
          <view class="stat-label">æŒä»“æ•°</view>
        </view>
        <view class="stat-cell">
          <view class="stat-number">{{stats.storageUsed}}KB</view>
          <view class="stat-label">å­˜å‚¨å ç”¨</view>
        </view>
      </view>
    </view>
  </view>
</view>