# 股票交易记录管理系统 - 项目说明

## 🎯 项目概述

这是一个专为股票投资者设计的交易记录管理系统，解决您帮朋友进行股票交易时的记录和管理需求。

### 核心功能
- ✅ 用户（朋友）信息管理
- ✅ 股票交易记录（买入/卖出）
- ✅ 自动费用计算（佣金、印花税、过户费）
- ✅ 持仓管理和统计
- ✅ 盈利分析和管理费计算
- ✅ 数据导出功能

## 🛠️ 技术架构

### 前端技术栈
- **React 18** - 现代化前端框架
- **TypeScript** - 类型安全的JavaScript
- **Ant Design 5.x** - 企业级UI组件库
- **Day.js** - 轻量级日期处理库
- **LocalStorage** - 本地数据存储

### 项目结构
```
stock/
├── public/
│   └── index.html              # 主HTML文件
├── src/
│   ├── components/             # React组件
│   │   ├── UserManagement.tsx     # 用户管理
│   │   ├── TransactionManagement.tsx # 交易记录
│   │   ├── PositionManagement.tsx    # 持仓管理
│   │   └── ProfitAnalysis.tsx        # 盈利分析
│   ├── services/               # 业务逻辑
│   │   ├── storage.ts             # 数据存储服务
│   │   └── calculation.ts         # 费用计算服务
│   ├── types/                  # TypeScript类型定义
│   │   └── index.ts
│   ├── utils/                  # 工具函数
│   │   └── sampleData.ts          # 示例数据
│   ├── App.tsx                 # 主应用组件
│   ├── index.tsx               # 应用入口
│   └── index.css               # 全局样式
├── package.json                # 项目依赖配置
├── tsconfig.json               # TypeScript配置
├── start.bat                   # Windows启动脚本
├── start.sh                    # Unix/Linux启动脚本
├── README.md                   # 详细文档
└── 使用说明.md                  # 中文使用指南
```

## 🚀 快速启动

### 方式一：自动启动（推荐）
**Windows用户:**
```bash
双击运行 start.bat
```

**Mac/Linux用户:**
```bash
chmod +x start.sh && ./start.sh
```

### 方式二：手动启动
```bash
npm install    # 安装依赖
npm start      # 启动开发服务器
```

启动后自动打开: http://localhost:3000

## 💡 核心特性详解

### 1. 智能费用计算
- **佣金**: 成交金额 × 0.03%，最低5元
- **印花税**: 卖出时收取成交金额 × 0.1%
- **过户费**: 成交金额 × 0.002%
- **净金额**: 买入时为总金额+费用，卖出时为总金额-费用

### 2. 自动持仓计算
- 根据历史交易自动计算持仓数量
- 计算平均成本价格
- 支持手动输入当前价格查看浮动盈亏

### 3. 灵活的盈利分析
- 自动计算每个用户的总投入、总回报、盈利情况
- 可调节管理费率（默认10%）
- 只对盈利部分收取管理费
- 生成详细报告并支持导出

### 4. 数据安全保障
- 所有数据存储在本地浏览器
- 不上传到任何服务器
- 支持数据导出备份
- 隐私安全有保障

## 📊 使用流程

### 新用户快速上手
1. **启动应用** → 系统自动加载示例数据
2. **熟悉界面** → 查看各模块功能
3. **清空示例数据** → 点击右上角"清空数据"
4. **添加真实用户** → 在用户管理中添加朋友信息
5. **记录交易** → 每次交易后及时记录
6. **定期分析** → 查看持仓和盈利情况

### 日常使用建议
- 每次交易后立即记录，避免遗忘
- 定期备份数据（导出CSV文件）
- 月末生成盈利分析报告
- 根据实际情况调整管理费率

## 🔧 自定义配置

### 修改费率设置
如需修改交易费率，请编辑：
```typescript
// src/services/calculation.ts
const commissionRate = 0.0003; // 佣金费率
const stampDutyRate = 0.001;   // 印花税费率
const transferFeeRate = 0.00002; // 过户费费率
```

### 添加新功能
系统采用模块化设计，可轻松扩展：
- 新增组件在 `src/components/` 目录
- 新增业务逻辑在 `src/services/` 目录
- 新增类型定义在 `src/types/` 目录

## 📈 数据导出格式

### 交易记录导出
包含：用户名、股票信息、交易类型、数量、价格、费用明细

### 持仓报告导出
包含：用户名、股票代码、持仓数量、平均成本、总成本

### 盈利分析导出
包含：用户名、总投入、总回报、盈利率、管理费、净盈利

## ⚠️ 注意事项

### 数据备份
- 定期使用导出功能备份数据
- 清理浏览器数据前请先备份
- 建议每月导出一次完整数据

### 费用说明
- 费率基于一般券商标准
- 实际费用可能因券商而异
- 建议根据实际情况调整

### 性能优化
- 大量数据时建议定期清理历史记录
- 浏览器LocalStorage有存储限制
- 数据过多时可考虑分期管理

## 🆘 技术支持

### 常见问题
- Node.js版本要求 >= 14.0.0
- 确保网络连接正常用于下载依赖
- 使用现代浏览器（Chrome/Firefox/Safari/Edge）

### 故障排除
1. 清除浏览器缓存重新加载
2. 检查控制台错误信息
3. 重新安装依赖: `rm -rf node_modules && npm install`
4. 确认端口3000未被占用

---

## 📝 版本信息

**当前版本**: v1.0.0
**发布日期**: 2024年1月
**兼容性**: 现代浏览器、Node.js 14+

祝您使用愉快！📊💰

